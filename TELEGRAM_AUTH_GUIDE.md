# üì± –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Telegram –∞–≥–µ–Ω—Ç–∞

## ‚ö†Ô∏è –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å**: ‚ùå Telegram –∞–≥–µ–Ω—Ç –ù–ï –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω  
**–ü—Ä–æ–±–ª–µ–º–∞**: –í—Å–µ —Å–µ—Å—Å–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ—Ç–µ—Ä—è–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é  
**–†–µ—à–µ–Ω–∏–µ**: –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

## üîß –ö–∞–∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å –∞–≥–µ–Ω—Ç–∞

### –®–∞–≥ 1: –õ–æ–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –∏–ª–∏ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ
cd telegram_claude_agent
python3 -m venv venv
source venv/bin/activate
pip install telethon cryptg python-dotenv

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
python telegram_auth_setup.py
```

### –®–∞–≥ 2: –ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

1. **–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞**: +79885517453
2. **–ü–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –∏–∑ Telegram**: Telegram –æ—Ç–ø—Ä–∞–≤–∏—Ç 5-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥
3. **–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥**: –í–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–æ–¥
4. **–í–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–æ–ª—å**: –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—Å—Ç—Å—è —Ñ–∞–π–ª `telegram_agent.session` —Å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π.

## üöÄ –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–°–æ–∑–¥–∞–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

```python
#!/usr/bin/env python3
"""
–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Telegram –∞–≥–µ–Ω—Ç–∞
–ó–∞–ø—É—Å–∫–∞–π—Ç–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ
"""
import asyncio
import os
from dotenv import load_dotenv
from telethon import TelegramClient

load_dotenv()

async def authorize():
    api_id = int(os.getenv("TELEGRAM_API_ID"))
    api_hash = os.getenv("TELEGRAM_API_HASH") 
    phone = os.getenv("TELEGRAM_PHONE")
    
    print("üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Telegram –∞–≥–µ–Ω—Ç–∞")
    print(f"üì± –¢–µ–ª–µ—Ñ–æ–Ω: {phone}")
    
    client = TelegramClient("telegram_agent", api_id, api_hash)
    
    try:
        await client.start(phone=phone)
        
        me = await client.get_me()
        print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω: {me.first_name}")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø –∫ —á–∞—Ç–∞–º
        count = 0
        async for dialog in client.iter_dialogs(limit=5):
            count += 1
            print(f"  {count}. {dialog.name}")
        
        print(f"üìä –î–æ—Å—Ç—É–ø–Ω–æ {count} –¥–∏–∞–ª–æ–≥–æ–≤")
        print("‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏: {e}")
    finally:
        await client.disconnect()

if __name__ == "__main__":
    asyncio.run(authorize())
```

## üîÑ –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª —Å–µ—Å—Å–∏–∏** `telegram_agent.session` –≤ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend** –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Telegram
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å** —á–µ—Ä–µ–∑ API: `/health`

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

```json
{
  "status": "healthy",
  "telegram_connected": true,  // ‚Üê –ò–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ true
  "database": "connected",
  "mode": "full"
}
```

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å —Ñ–∞–π–ª–∞–º–∏ .session - –æ–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è**: –°–µ—Å—Å–∏–∏ Telegram –∏–º–µ—é—Ç –¥–ª–∏—Ç–µ–ª—å–Ω—ã–π —Å—Ä–æ–∫, –Ω–æ –º–æ–≥—É—Ç –∏—Å—Ç–µ–∫–∞—Ç—å
- **–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–æ–ª—å cloud password
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–ö–æ–¥ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Telegram —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç

**–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API_ID –∏ API_HASH –≤ .env
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ .session —Ñ–∞–π–ª—ã

**–°–µ—Å—Å–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –í–æ–∑–º–æ–∂–Ω–æ —Å–µ—Å—Å–∏—è —É—Å—Ç–∞—Ä–µ–ª–∞
- –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É .session